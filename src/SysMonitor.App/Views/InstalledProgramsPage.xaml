<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="SysMonitor.App.Views.InstalledProgramsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="{StaticResource BackgroundBrush}">

    <Grid Padding="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Simple Header -->
        <TextBlock Grid.Row="0" Text="INSTALLED PROGRAMS"
                   Style="{StaticResource PageHeaderStyle}"
                   Foreground="{StaticResource PrimaryBrush}"/>

        <!-- Simple Status -->
        <StackPanel Grid.Row="1" Margin="0,16,0,16">
            <TextBlock Text="{x:Bind ViewModel.StatusMessage, Mode=OneWay}"
                       Style="{StaticResource CardTitleStyle}"/>
            <Button Content="REFRESH"
                    Command="{x:Bind ViewModel.LoadProgramsCommand}"
                    Style="{StaticResource RedButtonStyle}"
                    Margin="0,8,0,0"/>
        </StackPanel>

        <!-- Simple List -->
        <ListView Grid.Row="2"
                  ItemsSource="{x:Bind ViewModel.FilteredPrograms, Mode=OneWay}"
                  Background="Transparent">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Border Background="{StaticResource CardBrush}"
                            CornerRadius="8" Padding="12" Margin="0,4">
                        <StackPanel>
                            <TextBlock Text="{Binding Name}"
                                       Foreground="{StaticResource TextPrimaryBrush}"
                                       FontWeight="SemiBold"/>
                            <TextBlock Text="{Binding Publisher}"
                                       Foreground="{StaticResource TextSecondaryBrush}"
                                       FontSize="12"/>
                        </StackPanel>
                    </Border>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <!-- Loading -->
        <ProgressBar Grid.Row="3" IsIndeterminate="True"
                     Foreground="{StaticResource PrimaryBrush}"
                     Visibility="{x:Bind ViewModel.IsLoading, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"/>
    </Grid>
</Page>
